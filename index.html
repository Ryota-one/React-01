<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My React App</title>
  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js" defer></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" defer></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js" defer></script>
</head>

<body>
<div id="container"></div>
  <script type="text/babel">
    'use strict';
    {
      const Menu = (props)=>{
        const decrement = () => {
          // App conponentのcountsを更新する処理をここに追加
        };
          const increment = () => {
        };

        return(
          <li className="py-2 border m-2 p-2 rounded hover:bg-gray-50 cursor-pointer">
           <button onClick={decrement} className="border border-black m-1 rounded w-6 bg-gray-200 hover:bg-gray-300">-</button>
            <button onClick={increment} className="border border-black m-1 rounded w-6 bg-gray-200 hover:bg-gray-300">+</button>
            {props.name}({props.price}円 × {props.count}個)
            </li>
        )
      }

      const App = () =>{
        const [counts, setCounts] = React.useState([0,0,0]);
        const menus = [
          {id: 0,name:'牛丼', price:400},
          {id: 1,name:'カレー', price:500},
          {id: 2,name:'サラダ', price:300},
        ];
        const total = (menus[0].price * counts[0]) +
                      (menus[1].price * counts[1]) +
                      (menus[2].price * counts[2]);
        const decrementMenu = () => {
          console.log('minus button clicked!');
        }

        const menuItems = menus.map((menu) => {
          return (
            <Menu
              key={menu.id}
              count={counts[menu.id]}
              name={menu.name}
              price={menu.price}
              onDecrement={decrementMenu}
            /> 
          );
        });

      return(
        <>
      <div className="flex justify-center items-center mt-5">
        <h1 className="bg-blue-100 w-1/2 max-w-md p-6 h-20 text-center text-ml font-bold rounded-xl">Menu</h1>
        </div>
          <div className="flex justify-center items-center mt-5 ">
            <ul className="bg-white p-4 rounded-lg shadow-md w-1/2 max-w-md mt-4 border border-gray-300">
              {menuItems}
            </ul>
      </div>

      <div className="flex justify-center items-center mt-5">
        <p>合計:{total}円</p>
      </div>
</>
      );
    };
      const container = document.querySelector('#container');
      const root = ReactDOM.createRoot(container);
      root.render(<App />);
    }
  </script>
</body>
</html>
